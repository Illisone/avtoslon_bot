<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–æ–¥–±–æ—Ä –∞–≤—Ç–æ</title>
    <link rel="stylesheet" href="styles.css"> 
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>

<div class="header">
    <div class="logo-car">üèéÔ∏è</div>
    <div class="logo-text">ASIA EXPRESS AUTO</div>
</div>

<div class="container">
    
    <div class="step-indicator" id="stepIndicator">
        </div>
    
    <form id="carForm">
        <div class="card form-step" data-step="1">
            <h2>1/5. –ö–∞–∫–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å –í–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?</h2>
            <div class="choice-grid" style="grid-template-columns: repeat(1, 1fr);">
                <button type="button" class="choice-button" data-value="–ù–æ–≤—ã–π">üöó –¢–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ</button>
                <button type="button" class="choice-button" data-value="–° –ø—Ä–æ–±–µ–≥–æ–º">‚öôÔ∏è –° –ø—Ä–æ–±–µ–≥–æ–º</button>
                <button type="button" class="choice-button" data-value="–ù–µ–≤–∞–∂–Ω–æ">ü§∑‚Äç‚ôÄÔ∏è –ù–µ–≤–∞–∂–Ω–æ</button>
            </div>
            <input type="hidden" name="–¢–∏–ø –∞–≤—Ç–æ" id="carType" required>
        </div>

        <div class="card form-step" data-step="2" style="display:none;">
            <h2>2/5. –£–∫–∞–∂–∏—Ç–µ –º–∞—Ä–∫—É –∏ –º–æ–¥–µ–ª—å –∞–≤—Ç–æ</h2>
            <p class="label">–ú–∞—Ä–∫–∞/–ú–æ–¥–µ–ª—å</p>
            <input type="text" name="–ú–∞—Ä–∫–∞/–ú–æ–¥–µ–ª—å" id="carModel" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Toyota Camry, BYD Song Plus" required>
        </div>

        <div class="card form-step" data-step="3" style="display:none;">
            <h2>3/5. –ñ–µ–ª–∞–µ–º—ã–π –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞</h2>
            <p class="label">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2020 ‚Äî 2024)</p>
            <input type="hidden" name="–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞" id="carYear" required> 
            
            <div class="choice-grid" id="yearButtons">
                </div>
        </div>

        <div class="card form-step" data-step="4" style="display:none;">
            <h2>4/5. –ö–∞–∫ –í–∞—Å –∑–æ–≤—É—Ç?</h2>
            <p class="label">–í–∞—à–µ –ò–º—è</p>
            <input type="text" name="–ò–º—è" id="clientName" placeholder="–ò–≤–∞–Ω" required>
        </div>

        <div class="card form-step" data-step="5" style="display:none;">
            <h2>5/5. –í–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</h2>
            <p class="label">–¢–µ–ª–µ—Ñ–æ–Ω</p>
            <input type="tel" name="–¢–µ–ª–µ—Ñ–æ–Ω" id="clientPhone" placeholder="+7 9–•–• –•–•–•-–•–•-–•–•" required>
        </div>
        
        <div class="card form-step" data-step="6" style="display:none;">
            <h2>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ</h2>
            <div id="reviewData">
                </div>
            
            <div class="nav-buttons">
                <button type="button" class="nav-button back" onclick="handleCustomBackButton()">–ù–ê–ó–ê–î</button>
                <button type="button" class="nav-button next" id="finalSubmitButton">–û–¢–ü–†–ê–í–ò–¢–¨</button>
            </div>
        </div>
        
    </form>
</div>

<script>
    // =======================================
    // JAVASCRIPT –õ–û–ì–ò–ö–ê –î–õ–Ø MINI APP
    // =======================================
    
    const Telegram = window.Telegram.WebApp;
    Telegram.ready();
    Telegram.expand(); 
    
    const formSteps = document.querySelectorAll('.form-step');
    const stepIndicator = document.getElementById('stepIndicator');
    const yearButtonsContainer = document.getElementById('yearButtons');
    const reviewDataContainer = document.getElementById('reviewData');
    const finalSubmitButton = document.getElementById('finalSubmitButton');
    
    // ‚ö†Ô∏è –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤, —Ç–∞–∫ –∫–∞–∫ –¥–æ–±–∞–≤–∏–ª–∏ –®–∞–≥ 6 (–ü—Ä–æ–≤–µ—Ä–∫–∞)
    const totalSteps = formSteps.length; 
    let currentStep = 1;

    let startYear = null;
    let endYear = null;

    // --- –§–£–ù–ö–¶–ò–Ø –ì–ï–ù–ï–†–ê–¶–ò–ò –ì–û–î–û–í ---
    function generateYearButtons() {
        const currentYear = new Date().getFullYear();
        for (let year = currentYear + 1; year >= 2015; year--) {
            const button = document.createElement('button');
            button.type = 'button';
            button.classList.add('choice-button', 'year-range-button');
            button.dataset.value = year;
            button.textContent = year;
            yearButtonsContainer.appendChild(button);
        }
    }
    
    // ----------------------------------------
    // –£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–ù–û–ü–ö–û–ô –ù–ê–ó–ê–î (Telegram BackButton)
    // ----------------------------------------
    if (Telegram.themeParams) {
        Telegram.MainButton.setParams({
            color: '#00448a', 
            text_color: '#FFFFFF'
        });
        
        Telegram.BackButton.show();
        Telegram.BackButton.onClick(handleCustomBackButton);
    }
    
    // –û–±—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"
    function handleCustomBackButton() {
        if (currentStep > 1) {
            currentStep--;
            updateUI();
        } else {
            Telegram.close();
        }
    }
    
    // ----------------------------------------
    // –£–ü–†–ê–í–õ–ï–ù–ò–ï UI
    // ----------------------------------------

    function updateMainButton(text, isVisible, isActive, color = '#00448a') {
        Telegram.MainButton.setParams({
            text: text,
            is_visible: isVisible,
            is_active: isActive,
            color: color
        });
    }

    function updateStepDots() {
        stepIndicator.innerHTML = '';
        // Dots only for the first 5 input steps
        for (let i = 1; i <= totalSteps - 1; i++) { 
            const dot = document.createElement('span');
            dot.classList.add('dot');
            if (i === currentStep) {
                dot.classList.add('active');
            }
            stepIndicator.appendChild(dot);
        }
    }
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö
    function createReviewField(label, value, step) {
        const div = document.createElement('div');
        div.classList.add('review-field');
        // –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π —Å—Ç–∏–ª—å –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å–∫—Ä–∏–Ω–∞–º
        div.innerHTML = `
            <style>
                .review-field { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; border-bottom: 1px dashed #333; padding-bottom: 5px; }
                .review-field-label { color: var(--hint-color); font-size: 0.9em; }
                .review-field-value { color: var(--text-color); font-weight: 500; display: flex; align-items: center; gap: 8px; }
                .review-field-edit { 
                    background: none; border: none; color: var(--accent-light); 
                    font-size: 1.2em; cursor: pointer; padding: 0; margin: 0; 
                    transform: translateY(2px); 
                }
            </style>
            <span class="review-field-label">${label}</span>
            <span class="review-field-value">
                ${value}
                <button class="review-field-edit" data-step="${step}" onclick="editStep(${step})">‚úèÔ∏è</button>
            </span>
        `;
        return div;
    }
    
    // –®–∞–≥ 6: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
    function populateReviewData() {
        reviewDataContainer.innerHTML = '';
        const formData = {};
        document.querySelectorAll('input').forEach(input => {
            if (input.name && input.value) {
                formData[input.name] = input.value;
            }
        });

        let stepIndex = 1;
        for (const key in formData) {
            // –ú–∞–ø–ø–∏–Ω–≥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –Ω–∞ —à–∞–≥–∏
            const labelMap = {
                '–¢–∏–ø –∞–≤—Ç–æ': '–¢–∏–ø', 
                '–ú–∞—Ä–∫–∞/–ú–æ–¥–µ–ª—å': '–ú–∞—Ä–∫–∞ –∏ –º–æ–¥–µ–ª—å', 
                '–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞': '–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞', 
                '–ò–º—è': '–ò–º—è', 
                '–¢–µ–ª–µ—Ñ–æ–Ω': '–¢–µ–ª–µ—Ñ–æ–Ω'
            };
            // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –ì–æ—Ä–æ–¥ –¥–æ—Å—Ç–∞–≤–∫–∏, –µ—Å–ª–∏ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ –≤ HTML (—Å–º. —Å–∫—Ä–∏–Ω—à–æ—Ç 83013c)
            
            const label = labelMap[key] || key;
            const value = formData[key];
            
            // –†—É—á–Ω–æ–π –º–∞–ø–ø–∏–Ω–≥ —à–∞–≥–æ–≤ –∫ –ø–æ–ª—è–º (–¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å HTML-—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π)
            let stepForEdit = 0;
            if (key === '–¢–∏–ø –∞–≤—Ç–æ') stepForEdit = 1;
            else if (key === '–ú–∞—Ä–∫–∞/–ú–æ–¥–µ–ª—å') stepForEdit = 2;
            else if (key === '–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞') stepForEdit = 3;
            else if (key === '–ò–º—è') stepForEdit = 4;
            else if (key === '–¢–µ–ª–µ—Ñ–æ–Ω') stepForEdit = 5;

            if (stepForEdit > 0) {
                 reviewDataContainer.appendChild(createReviewField(label, value, stepForEdit));
            }
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–∑—É–∞–ª—å–Ω—É—é –∫–Ω–æ–ø–∫—É
        if (finalSubmitButton) {
            finalSubmitButton.classList.add('active');
            finalSubmitButton.addEventListener('click', submitForm);
        }
        
        // –°–∫—Ä—ã–≤–∞–µ–º MainButton, —Ç–∞–∫ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ–º HTML-–∫–Ω–æ–ø–∫—É
        updateMainButton('–û–¢–ü–†–ê–í–ò–¢–¨', false, true, '#E74C3C');
    }
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —à–∞–≥ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    window.editStep = function(step) {
        currentStep = step;
        updateUI();
    }


    function updateUI() {
        // 1. –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ—á–∫–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø–µ—Ä–≤—ã—Ö 5 —à–∞–≥–æ–≤)
        updateStepDots();

        // 2. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º —à–∞–≥–∏
        formSteps.forEach(step => {
            const stepIndex = parseInt(step.dataset.step);
            step.style.display = (stepIndex === currentStep) ? 'block' : 'none';
        });
        
        // 3. –î–ª—è –®–∞–≥–∞ 3, –æ–±–Ω–æ–≤–ª—è–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω
        if (currentStep === 3) {
            visualizeYearRange();
        }
        
        // 4. –î–ª—è –®–∞–≥–∞ 6, –∑–∞–ø–æ–ª–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
        if (currentStep === totalSteps) { // totalSteps = 6
            populateReviewData();
            // –ù–∞ —ç—Ç–æ–º —à–∞–≥–µ Telegram MainButton —Å–∫—Ä—ã—Ç–∞ (—Å–º. populateReviewData)
            Telegram.BackButton.show();
            return;
        } else {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º Telegram MainButton –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —à–∞–≥–æ–≤
            Telegram.MainButton.show();
        }
        
        // 5. –û–±–Ω–æ–≤–ª—è–µ–º –≥–ª–∞–≤–Ω—É—é –∫–Ω–æ–ø–∫—É Telegram
        const isLastInputStep = currentStep === totalSteps - 1; // –®–∞–≥ 5
        const buttonText = isLastInputStep ? '–ü–†–û–í–ï–†–ò–¢–¨ –î–ê–ù–ù–´–ï' : '–î–ê–õ–ï–ï';
        
        updateMainButton(buttonText, true, checkStepValidity(), '#00448a');
        
        // –°–∫—Ä—ã–≤–∞–µ–º –≤–∏–∑—É–∞–ª—å–Ω—É—é –∫–Ω–æ–ø–∫—É –æ—Ç–ø—Ä–∞–≤–∫–∏
        if (finalSubmitButton) {
            finalSubmitButton.classList.remove('active');
        }
        
        // –§–æ–∫—É—Å–∏—Ä—É–µ–º—Å—è –Ω–∞ –ø–æ–ª—è—Ö –≤–≤–æ–¥–∞
        const currentStepElement = document.querySelector(`.form-step[data-step="${currentStep}"]`);
        const firstInput = currentStepElement ? currentStepElement.querySelector('input:not([type="hidden"])') : null;
        if (firstInput) {
            firstInput.focus();
        }
    }
    
    // ... (checkStepValidity –∏ –¥—Ä—É–≥–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—Å—Ç–∞—é—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º–∏) ...
    // ----------------------------------------
    // –ü–†–û–í–ï–†–ö–ê –í–ê–õ–ò–î–ù–û–°–¢–ò –¢–ï–ö–£–©–ï–ì–û –®–ê–ì–ê
    // ----------------------------------------

    function checkStepValidity() {
        switch (currentStep) {
            case 1: 
                return !!document.getElementById('carType').value;
            case 2: 
                return !!document.getElementById('carModel').value.trim();
            case 3: 
                return !!document.getElementById('carYear').value.trim();
            case 4: 
                return !!document.getElementById('clientName').value.trim();
            case 5: 
                const phoneValue = document.getElementById('clientPhone').value.trim();
                return phoneValue.length > 5;
            case 6: // –®–∞–≥ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ–≥–¥–∞ "–≤–∞–ª–∏–¥–µ–Ω" –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
                return true; 
            default:
                return false;
        }
    }
    
    // --- –§–£–ù–ö–¶–ò–Ø –û–ß–ò–°–¢–ö–ò –ò –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–ò –í–´–ë–†–ê–ù–ù–û–ì–û –î–ò–ê–ü–ê–ó–û–ù–ê ---
    function visualizeYearRange() {
        const yearInput = document.getElementById('carYear');
        const buttons = document.querySelectorAll('.year-range-button');
        
        buttons.forEach(btn => {
            btn.classList.remove('selected', 'in-range');
        });

        if (startYear && endYear) {
            const start = Math.min(startYear, endYear);
            const end = Math.max(startYear, endYear);
            yearInput.value = `${start}-${end}`;
            
            buttons.forEach(btn => {
                const year = parseInt(btn.dataset.value);
                if (year >= start && year <= end) {
                    btn.classList.add('in-range');
                }
                if (year === start || year === end) {
                    btn.classList.add('selected'); 
                    btn.classList.remove('in-range'); 
                }
            });
            updateMainButton(Telegram.MainButton.text, true, true);
        } else if (startYear) {
            yearInput.value = startYear;
            document.querySelector(`.year-range-button[data-value="${startYear}"]`).classList.add('selected');
            updateMainButton(Telegram.MainButton.text, true, false); 
        } else {
            yearInput.value = '';
            updateMainButton(Telegram.MainButton.text, true, false); 
        }
    }
    
    // ----------------------------------------
    // –û–ë–†–ê–ë–û–¢–ö–ê –ö–ù–û–ü–û–ö –ò –ü–û–õ–ï–ô
    // ----------------------------------------

    // –®–∞–≥ 1: –í—ã–±–æ—Ä —Ç–∏–ø–∞ –∞–≤—Ç–æ
    document.querySelectorAll('.form-step[data-step="1"] .choice-button').forEach(button => {
        button.addEventListener('click', function() {
            document.querySelectorAll('.form-step[data-step="1"] .choice-button').forEach(btn => btn.classList.remove('selected'));
            this.classList.add('selected');
            document.getElementById('carType').value = this.dataset.value;
            
            const buttonText = currentStep === totalSteps - 1 ? '–ü–†–û–í–ï–†–ò–¢–¨ –î–ê–ù–ù–´–ï' : '–î–ê–õ–ï–ï';
            updateMainButton(buttonText, true, checkStepValidity(), '#00448a');
        });
    });

    // --- –õ–û–ì–ò–ö–ê –í–´–ë–û–†–ê –î–ò–ê–ü–ê–ó–û–ù–ê –ì–û–î–û–í (–®–ê–ì 3) ---
    function handleYearSelection(event) {
        const button = event.target.closest('.year-range-button');
        if (!button) return;
        
        const year = parseInt(button.dataset.value);

        if (startYear === null) {
            startYear = year;
            endYear = null;
        } else if (endYear === null) {
            endYear = year;
        } else {
            startYear = year;
            endYear = null;
        }
        
        visualizeYearRange();
    }
    
    yearButtonsContainer.addEventListener('click', handleYearSelection);


    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –ø–æ–ª–µ–π –≤–≤–æ–¥–∞ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
    document.querySelectorAll('input').forEach(input => {
        input.addEventListener('input', () => {
            if (currentStep !== 3) {
                updateMainButton(Telegram.MainButton.text, true, checkStepValidity(), '#00448a');
            }
        });
    });
    
    // ----------------------------------------
    // –ù–ê–í–ò–ì–ê–¶–ò–Ø (MainButton)
    // ----------------------------------------

    Telegram.MainButton.onClick(() => {
        if (!checkStepValidity()) {
            Telegram.showAlert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π –ø—É–Ω–∫—Ç.');
            return;
        }
        
        // –ù–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –≤—Ö–æ–¥–Ω–æ–º —à–∞–≥–µ (–®–∞–≥ 5) –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –®–∞–≥—É 6 (–ü—Ä–æ–≤–µ—Ä–∫–∞)
        if (currentStep < totalSteps) { 
            currentStep++;
            updateUI();
        } 
        // –ï—Å–ª–∏ –±—ã –®–∞–≥–∞ 6 –Ω–µ –±—ã–ª–æ, –∑–¥–µ—Å—å –±—ã–ª –±—ã submitForm()
    });
    
    // ----------------------------------------
    // –û–¢–ü–†–ê–í–ö–ê –§–û–†–ú–´
    // ----------------------------------------

    function submitForm() {
        // –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è
        if (!checkStepValidity()) return; 
        
        // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ
        const formData = {};
        document.querySelectorAll('input').forEach(input => {
            if (input.name && input.value) {
                formData[input.name] = input.value;
            }
        });
        
        // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –±–æ—Ç
        let submissionData = "‚úÖ –ù–û–í–ê–Ø –ó–ê–Ø–í–ö–ê –ù–ê –ü–û–î–ë–û–† –ê–í–¢–û:\n\n";
        for (const key in formData) {
            submissionData += `*${key}*: ${formData[key]}\n`;
        }
        
        try {
            Telegram.sendData(JSON.stringify(formData));
            Telegram.MainButton.hide();
            // –î–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∫–Ω–æ–ø–∫–∏
            if(finalSubmitButton) finalSubmitButton.textContent = '–û–¢–ü–†–ê–í–õ–ï–ù–û';
            
            // –ó–∞–º–µ–Ω—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –®–∞–≥–µ 6
            reviewDataContainer.innerHTML = '<h3>–ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!</h3><p>–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –≤—ã–±–æ—Ä. –°–∫–æ—Ä–æ —Å –≤–∞–º–∏ —Å–≤—è–∂–µ—Ç—Å—è –º–µ–Ω–µ–¥–∂–µ—Ä.</p>';
            
        } catch (error) {
            Telegram.showAlert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –¥–∞–Ω–Ω—ã—Ö: ' + error.message);
        }
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    generateYearButtons(); 
    updateUI(); 
</script>

</body>
</html>